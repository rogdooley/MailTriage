version: 1

output:
  root: path # absolute path

accounts:
  - id: string
    imap:
      host: string
      port: int
      ssl: bool
      folders: [string] # default ["INBOX"]
    identity:
      primary_address: string
      aliases: [string]
    secrets:
      provider: string # "bitwarden" (default)
      reference: string # provider-specific ID

rules:
  high_priority_senders: [string]
  collapse_automated: true

  suppress:
    senders:
      - "cron@"
      - "no-reply@"
    subjects:
      - "^cron\\b"
      - "^backup report"

  arrival_only:
    senders:
      - "backup@"
      - "monitoring@"
    subjects:
      - "^cron\\b"
      - "^daily report"

tickets:
  enabled: bool
  plugins: [string]

time:
  timezone: string # e.g. America/New_York
  workday_start: string # HH:MM (24h)

watch:
  ingest_lookback_days: int # hard cap for IMAP scanning in watch mode
  unreplied:
    enabled: bool
    rules:
      - id: string
        target_addresses: [string]
        unreplied_after_minutes: int
        lookback_days: int
        notify_cooldown_minutes: int
